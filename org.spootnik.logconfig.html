<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>org.spootnik.logconfig documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Logconfig 0.7.1 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>org</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>spootnik</span></div></div></li><li class="depth-3 current"><a href="org.spootnik.logconfig.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>logconfig</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="org.spootnik.logconfig.html#var-start-logging.21"><div class="inner"><span>start-logging!</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">org.spootnik.logconfig</h2><div class="doc"><div class="markdown"><p>Small veneer on top of log4j and commons logging. Originally based on the logging initialization in riemann.</p><p>A single public function is exposed: <code>start-logging!</code> which takes care of configuring log4j, later logging is done through standard facilities, such as <a href="https://github.com/clojure/tools.logging">clojure.tools.logging</a></p></div></div><div class="public anchor" id="var-start-logging.21"><h3>start-logging!</h3><div class="usage"><code>(start-logging! {:keys [external console files pattern level overrides json]})</code></div><div class="doc"><div class="markdown"><p>Initialize log4j logging from a map.</p><p>The map accepts the following keys as keywords:</p>
<ul>
  <li><code>:level</code>: Default level at which to log.</li>
  <li><code>:pattern</code>: The pattern to use for logging text messages</li>
  <li><code>:console</code>: Append messages to the console using a simple pattern  layout</li>
  <li><code>:files</code>: A list of either strings or maps. strings will create  text files, maps are expected to contain a <code>:path</code> key as well  as an optional <code>:json</code> which when present and true will switch  the layout to a JSONEventLayout for the logger.</li>
  <li><code>:overrides</code>: A map of namespace or class-name to log level,  this will supersede the global level.</li>
  <li><code>:json</code>: When true, console logging will use a JSON Event layout</li>
  <li><code>:external</code>: Do not proceed with configuration, this  is useful when logging configuration is provided  in a different manner (by supplying a log4j properties  file through the <code>log4j.configuration</code> property for instance.</li>
</ul><p>example:</p>
<pre><code class="clojure">{:console true?
 :level     &quot;info&quot;
 :pattern   &quot;%p [%d] %t - %c - %m%n&quot;
 :files     [&quot;/var/log/app.log&quot;
             {:path &quot;/var/log/app-json.log&quot;
              :json true}]
 :overrides {&quot;some.namespace&quot; &quot;debug&quot;}}
</code></pre></div></div></div></div></body></html>
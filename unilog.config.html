<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>unilog.config documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Unilog</span> <span class="project-version">0.7.16-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>unilog</span></div></div></li><li class="depth-2 branch current"><a href="unilog.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-2"><a href="unilog.context.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>context</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="unilog.config.html#var-appender-config"><div class="inner"><span>appender-config</span></div></a></li><li class="depth-1"><a href="unilog.config.html#var-build-appender"><div class="inner"><span>build-appender</span></div></a></li><li class="depth-1"><a href="unilog.config.html#var-build-encoder"><div class="inner"><span>build-encoder</span></div></a></li><li class="depth-1"><a href="unilog.config.html#var-build-rolling-policy"><div class="inner"><span>build-rolling-policy</span></div></a></li><li class="depth-1"><a href="unilog.config.html#var-build-triggering-policy"><div class="inner"><span>build-triggering-policy</span></div></a></li><li class="depth-1"><a href="unilog.config.html#var-default-configuration"><div class="inner"><span>default-configuration</span></div></a></li><li class="depth-1"><a href="unilog.config.html#var-default-encoder"><div class="inner"><span>default-encoder</span></div></a></li><li class="depth-1"><a href="unilog.config.html#var-default-pattern"><div class="inner"><span>default-pattern</span></div></a></li><li class="depth-1"><a href="unilog.config.html#var-levels"><div class="inner"><span>levels</span></div></a></li><li class="depth-1"><a href="unilog.config.html#var-start-appender.21"><div class="inner"><span>start-appender!</span></div></a></li><li class="depth-1"><a href="unilog.config.html#var-start-logging.21"><div class="inner"><span>start-logging!</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">unilog.config</h1><div class="doc"><pre class="plaintext">Small veneer on top of logback.
Originally based on the logging initialization in riemann.
Now diverged quite a bit.

For configuration, a single public function is exposed: `start-logging!` which
takes care of configuring logback, later logging is done through
standard facilities, such as [clojure.tools.logging](<a href="https://github.com/clojure/tools.logging)">https://github.com/clojure/tools.logging)</a>.

Two extension mechanism are provided to add support for more appenders and encoders,
see `build-appender` and `build-encoder` respectively</pre></div><div class="public anchor" id="var-appender-config"><h3>appender-config</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Called by walking through each key/val pair in the main configuration
map. This allows for early transformation of quick access keys such as:
`:console`, `:file`, and `:files`</pre></div></div><div class="public anchor" id="var-build-appender"><h3>build-appender</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Given a prepared configuration map, associate a prepared appender
to the `:appender` key.</pre></div></div><div class="public anchor" id="var-build-encoder"><h3>build-encoder</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Given a prepared configuration map, associate a prepared encoder
to the `:encoder` key.</pre></div></div><div class="public anchor" id="var-build-rolling-policy"><h3>build-rolling-policy</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Given a configuration map, build a RollingPolicy instance.
</pre></div></div><div class="public anchor" id="var-build-triggering-policy"><h3>build-triggering-policy</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Given a configuration map, build a TriggeringPolicy instance.
</pre></div></div><div class="public anchor" id="var-default-configuration"><h3>default-configuration</h3><div class="usage"></div><div class="doc"><pre class="plaintext">A simple default logging configuration
</pre></div></div><div class="public anchor" id="var-default-encoder"><h3>default-encoder</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Default encoder and pattern configuration
</pre></div></div><div class="public anchor" id="var-default-pattern"><h3>default-pattern</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Default pattern for PatternLayoutEncoder
</pre></div></div><div class="public anchor" id="var-levels"><h3>levels</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Logging level names to logback level association
</pre></div></div><div class="public anchor" id="var-start-appender.21"><h3>start-appender!</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Start an appender according to appender type
</pre></div></div><div class="public anchor" id="var-start-logging.21"><h3>start-logging!</h3><div class="usage"><code>(start-logging! raw-config)</code><code>(start-logging!)</code></div><div class="doc"><pre class="plaintext">Initialize logback logging from a map.

   The map accepts the following keys as keywords
   - `:level`: Default level at which to log.
   - `:pattern`: The pattern to use for logging text messages
   - `:console`: Append messages to the console using a simple pattern
      layout. If value is a boolean, treat it as such and use a default
      encoder. If value is a string, treat it as a pattern and use
      a pattern encoder. If value is a map, expect encoder configuration
      in the map.
   - `:file`:  A file to log to. May either be a string, the log file, or
      a map which accepts optional encoder configuration.
   - `:files`: A list of either strings or maps. strings will create
      text files, maps are expected to contain a `:path` key as well
      as an optional `:json` which when present and true will switch
      the layout to a JSONEventLayout for the logger.
   - `:overrides`: A map of namespace or class-name to log level,
      this will supersede the global level.
   - `:external`: Do not proceed with configuration, this
      is useful when logging configuration is provided
      in a different manner (by supplying your own logback config file
      for instance).

   When called with no arguments, assume an empty map

example:

```clojure
{:console   true
 :level     "info"
 :files     ["/var/log/app.log"
             {:file "/var/log/app-json.log"
              :encoder json}]
 :overrides {"some.namespace" "debug"}}
```
  </pre></div></div></div></body></html>